# EnergyBot ü§ñ‚ö°

–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó —á–µ—Ä–µ–∑ –ø—ñ–Ω–≥—É–≤–∞–Ω–Ω—è –∫–∞–º–µ—Ä –≤—ñ–¥–µ–æ—Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è.

## –û–ø–∏—Å

EnergyBot –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å –∫–∞–º–µ—Ä–∏ –≤—ñ–¥–µ–æ—Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –Ω–∞–¥—Å–∏–ª–∞—î —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤ Telegram –∫–æ–ª–∏:
- ‚ö° –ó'—è–≤–ª—è—î—Ç—å—Å—è –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—è (–∫–∞–º–µ—Ä–∞ –ø–æ—á–∏–Ω–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –ø—ñ–Ω–≥)
- üîå –ó–Ω–∏–∫–∞—î –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—è (–∫–∞–º–µ—Ä–∞ –ø–µ—Ä–µ—Å—Ç–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –ø—ñ–Ω–≥)

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üìπ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∫–∞–º–µ—Ä –æ–¥–Ω–æ—á–∞—Å–Ω–æ
- ‚è±Ô∏è –ù–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- üì± –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤ Telegram –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- üìä –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å—É –≤—Å—ñ—Ö –∫–∞–º–µ—Ä –∫–æ–º–∞–Ω–¥–æ—é `/status`
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –ø–æ–º–∏–ª–æ–∫
- üñ•Ô∏è **–ì—Ä–∞—Ñ—ñ—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (GUI) –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è**

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (Windows)

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ì—Ä–∞—Ñ—ñ—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `setup.bat` (–æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `launch_gui.bat` - –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –∑—Ä—É—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –í —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (.env)" —ñ –≤–∫–∞–∂—ñ—Ç—å –≤–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —Ç–∞ chat ID
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç–∏" –¥–ª—è –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ö–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `setup.bat` (–æ–¥–∏–Ω —Ä–∞–∑)
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `start.bat` –¥–ª—è –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞

### –í–∞—Ä—ñ–∞–Ω—Ç 3: EXE —Ñ–∞–π–ª (–±–µ–∑ Python)

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `build_exe.bat` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è EXE —Ñ–∞–π–ª—É
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `dist\EnergyBot.exe` –¥–ª—è –∑–∞–ø—É—Å–∫—É

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone <repository-url> EnergyBot
cd EnergyBot
```

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
python3 -m venv .venv
source .venv/bin/activate  # Linux/Mac
```

### 3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –±–æ—Ç–∞ –≤ Telegram —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather) —Ç–∞ –æ—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–æ–∫–µ–Ω
2. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª `.env.example` –≤ `.env`:
   ```bash
   cp .env.example .env
   ```
3. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `.env` —Ñ–∞–π–ª:
   - `BOT_TOKEN` - –≤—Å—Ç–∞–≤—Ç–µ —Ç–æ–∫–µ–Ω –≤–∞—à–æ–≥–æ –±–æ—Ç–∞
   - `CHAT_IDS` - –≤—Å—Ç–∞–≤—Ç–µ –≤–∞—à—ñ chat ID (—â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—å ID, –∑–∞–ø—É—Å—Ç—ñ—Ç—å `get_chat_id.py`)
   - –ü—Ä–∏ –±–∞–∂–∞–Ω–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

4. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `cameras.json` —Ç–∞ –¥–æ–¥–∞–π—Ç–µ IP –∞–¥—Ä–µ—Å–∏ –≤–∞—à–∏—Ö –∫–∞–º–µ—Ä:
   ```json
   [
     {
       "name": "–ù–∞–∑–≤–∞ –∫–∞–º–µ—Ä–∏ 1",
       "ip": "192.168.1.100"
     }
   ]
   ```

### 5. –ó–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ

#### –ü—Ä–æ—Å—Ç–∏–π –∑–∞–ø—É—Å–∫ —É —Ñ–æ–Ω—ñ:
```bash
chmod +x start_bot.sh
./start_bot.sh
```

#### –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è:
```bash
chmod +x bot_control.sh
./bot_control.sh start     # –ó–∞–ø—É—Å–∫
./bot_control.sh status    # –°—Ç–∞—Ç—É—Å
./bot_control.sh logs      # –õ–æ–≥–∏
./bot_control.sh stop      # –ó—É–ø–∏–Ω–∫–∞
./bot_control.sh restart   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```

#### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:
```bash
crontab -e
# –î–æ–¥–∞–π—Ç–µ —Ä—è–¥–æ–∫:
@reboot /–ø–æ–≤–Ω–∏–π/—à–ª—è—Ö/–¥–æ/EnergyBot/autostart_bot.sh
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω):
```bash
crontab -e
# –î–æ–¥–∞–π—Ç–µ —Ä—è–¥–æ–∫:
*/5 * * * * /–ø–æ–≤–Ω–∏–π/—à–ª—è—Ö/–¥–æ/EnergyBot/monitor_bot.sh
```

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –∫–æ–º–∞–Ω–¥–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∏–≤—ñ—Ç—å—Å—è –≤ [SERVER_COMMANDS.md](SERVER_COMMANDS.md)

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ (Windows)

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone <repository-url>
cd EnergyBot
```

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
python -m venv .venv
.venv\Scripts\activate
```

### 3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (–¥–∏–≤. —Ä–æ–∑–¥—ñ–ª "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" –≤–∏—â–µ)

## –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
python main.py
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ:
```bash
./bot_control.sh start
```

–ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Ç–∞ –ø–æ—á–Ω–µ –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –∫–∞–º–µ—Ä–∏. –ü—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É –∫–∞–º–µ—Ä–∏ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –≤ Telegram.

## –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

- `/start` - –ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏ –∑ –±–æ—Ç–æ–º
- `/status` - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω –≤—Å—ñ—Ö –∫–∞–º–µ—Ä
- `/cameras` - –ü–æ–∫–∞–∑–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä –ø—ñ–¥ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º
- `/help` - –î–æ–ø–æ–º–æ–≥–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
EnergyBot/
‚îú‚îÄ‚îÄ main.py              # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ monitor.py           # –ú–æ–¥—É–ª—å –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∫–∞–º–µ—Ä
‚îú‚îÄ‚îÄ get_chat_id.py       # –î–æ–ø–æ–º—ñ–∂–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è Chat ID
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îú‚îÄ‚îÄ .env.example         # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ .env                 # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤—Ä—É—á–Ω—É)
‚îú‚îÄ‚îÄ cameras.json         # –°–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
‚îú‚îÄ‚îÄ .gitignore          # –§–∞–π–ª–∏ –¥–ª—è —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è Git
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ SERVER_COMMANDS.md  # –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ start_bot.sh        # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫—É (Linux)
‚îú‚îÄ‚îÄ bot_control.sh      # –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è (Linux)
‚îú‚îÄ‚îÄ monitor_bot.sh      # –°–∫—Ä–∏–ø—Ç –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É (Linux)
‚îî‚îÄ‚îÄ autostart_bot.sh    # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫—É (Linux)
```

## –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ Chat ID

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π —Å–∫—Ä–∏–ø—Ç:
   ```bash
   python get_chat_id.py
   ```
2. –ù–∞–ø–∏—à—ñ—Ç—å –±–æ—Ç—É `/start` –≤ Telegram
3. Chat ID –∑'—è–≤–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—ñ

## –ü–æ—Ä–∞–¥–∏

- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–∞—à—ñ –∫–∞–º–µ—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –ø–æ –º–µ—Ä–µ–∂—ñ –¥–ª—è –ø—ñ–Ω–≥—É–≤–∞–Ω–Ω—è
- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏: 30-60 —Å–µ–∫—É–Ω–¥
- –î–ª—è –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –Ω–∞–¥–∞–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ crontab

## –õ–æ–≥–∏

–õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —Ñ–∞–π–ª—ñ `bot.log`. –ü–µ—Ä–µ–≥–ª—è–¥:
```bash
tail -f bot.log
```

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
